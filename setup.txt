//Linux:
Connect to your fresh debian ec2
sudo apt update
sudo apt upgrade

//Apache2: 
sudo apt install apache2
sudo service apache2 start
sudo service apache2 status

//Visit your web servers public IP in browser to verify that apache2 is //functional and security group was configured correctly. 

sudo service apache2 stop

//Php: 
//Install dependancies 
sudo apt install php libapache2-mod-php php-mysql gnupg

//Restart Apache
sudo service apache2 start 
sudo service apache2 status

//Create and visit a test file

<html>
<head>
<title>PHP Test</title>
</head>
<body>
<?php echo '<p>Hello World</p>'; ?>
</body>
</html>


//MySQL: 
//Copy download link for mysql, make sure copied link ends in .deb
//https://dev.mysql.com/downloads/repo/apt/

cd /tmp
wget https://dev.mysql.com/get/mysql-apt-config_0.8.25-1_all.deb   
sudo dpkg -i mysql-apt-config_0.8.25-1_all.deb

//select OK when installing (arrow keys) 

sudo apt update
sudo apt install mysql-server

//Do not forget the password that you set during installation for the root mysql user. 

//setup the database
sudo mysql -u root -p 

CREATE database users;
show databases;

use users;

//we are using whole numbers for points, and will be doing math, so points column will be set as int

CREATE TABLE security (
  username VARCHAR(255),
  password VARCHAR(255),
  points int DEFAULT 0
);

INSERT INTO security (username, password, points) VALUES ('admin', 'password', '100');


CREATE TABLE submissions (
  flag VARCHAR(255) NOT NULL,
  username VARCHAR(255) NOT NULL,
  timestamp DATETIME NOT NULL,
  PRIMARY KEY (flag, username)
);

//verify the test insert
select * from security; 

flush privileges; 

//Lamp stack finished.

//Upload web files to /var/www/html/ 

//Your website is now configured. 
